This is a highly precise, Python-centric prompt designed for the Replit Agent. It focuses on the mathematical and architectural requirements while keeping the blockchain logic accessible via Python libraries like web3.py.The "ChainBluff" Replit System PromptCopy and paste the following into the Replit Agent or use it as your technical specification:Project Name: ChainBluff EngineRole: Senior Full-Stack Python EngineerObjective:Build a poker simulation and strategy engine that integrates a "Commit-Reveal" cryptographic fairness protocol and a Counterfactual Regret Minimization (CFR) AI agent. The project must be written primarily in Python, utilizing Flask for the web server and WebSockets for real-time state updates.1. Core Architecture (Python-First):Backend: Use Flask and Flask-SocketIO. All game logic, hand evaluations, and AI calculations must happen server-side in Python.Database: Use SQLAlchemy with a SQLite backend to store HandHistory, GameStates, and CFR_Regret_Tables.AI Engine: Implement a custom Python class CFRAgent that uses NumPy for matrix operations to calculate Nash Equilibrium strategies.Blockchain Integration: Use web3.py to interact with an Ethereum-compatible smart contract. The Python backend will act as the "Oracle" that verifies hand results and triggers contract payouts.2. Detailed Module Requirements:poker_engine.py:Implement a 52-card deck with a Commit-Reveal scheme.Functionality: Server generates server_seed, User provides client_seed. The deck order is determined by hash(server_seed + client_seed).Include a hand evaluator using the treys or deuces logic to rank 7-card hands.cfr_strategy.py:Implement a Chance-Constrained CFR algorithm.Maintain a regret_sum and strategy_sum for every information set (state of the game).The agent must be able to "train" against itself and save the resulting strategy to the SQLite database.blockchain_bridge.py:Create functions to deploy and interact with a PokerPot.sol contract using web3.py.Manage wallet private keys via environment variables (os.getenv).app.py:The Flask entry point. Handle SocketIO events for join_table, bet_action, and showdown.3. UI/Frontend:A single-page application using HTML5, Tailwind CSS, and Vanilla JavaScript (to handle WebSocket messages).Visual Feedback: Display a "GTO Advice" panel that shows the Python AI's calculated Expected Value ($EV$) for the current hand in real-time.4. Data Schema:Table RegretTable: id (PK), info_set (String), actions (JSON), regrets (JSON). This will store the AI's learned intelligence.